acl allowed_networks src "/etc/squid-deb-proxy/autogenerated/allowed-networks-src.acl"
acl to_archive_mirrors dstdomain "/etc/squid-deb-proxy/autogenerated/mirror-dstdomain.acl"
acl blockedpkgs urlpath_regex "/etc/squid-deb-proxy/autogenerated/pkg-blacklist-regexp.acl"
http_port 8000
pinger_enable off
visible_hostname squid-deb-proxy
maximum_object_size 512 MB
cache_dir aufs /var/cache/squid-deb-proxy 40000 16 256
cache_access_log /var/log/squid-deb-proxy/access.log
cache_log /var/log/squid-deb-proxy/cache.log
cache_store_log /var/log/squid-deb-proxy/store.log
cache_mem 20 MB
maximum_object_size_in_memory 10240 KB
pid_filename /var/run/squid-deb-proxy.pid
refresh_pattern deb$   129600 100% 129600
refresh_pattern udeb$   129600 100% 129600
refresh_pattern tar.gz$  129600 100% 129600
refresh_pattern tar.xz$  129600 100% 129600
refresh_pattern tar.bz2$  129600 100% 129600
refresh_pattern \/(Packages|Sources)(|\.bz2|\.gz|\.xz)$ 0 0% 0 refresh-ims
refresh_pattern \/Release(|\.gpg)$ 0 0% 0 refresh-ims
refresh_pattern \/InRelease$ 0 0% 0 refresh-ims
refresh_pattern \/(Translation-.*)(|\.bz2|\.gz|\.xz)$ 0 0% 0 refresh-ims
refresh_pattern changelogs.ubuntu.com\/.*  0  1% 1
acl Safe_ports port 80
acl Safe_ports port 443 563
http_access deny !Safe_ports
http_access deny blockedpkgs
http_access deny !to_archive_mirrors
cache deny !to_archive_mirrors
http_access allow allowed_networks
http_access deny all
netdb_filename stdio:/var/log/squid-deb-proxy/netdb.state
