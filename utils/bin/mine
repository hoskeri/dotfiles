#!/bin/bash -eu
warning="chown recursively $* ? (type y e s to proceed):"
cf=""

test -w "$@"

until [ "${cf}" = "yes" ]
do
  read -r -e -p "$warning " cf
done

set -x

sudo chown --changes --recursive  \
           --no-dereference --preserve-root \
              "$(id -u):$(id -g)" "$@"
